<div id="searchbody">

  <div id="first_step">
    <div class="scity">
    What <b>PRICE</b> are you looking for?
    </div>
  </div>

</div>

<%= form_tag plans_path, method: :get, authentication: false, id: 'search-form' do %>
  <%= label_tag :City %>
  <%= text_field_tag :city, params[:city] %>
  <%= label_tag :Price %>
  <%= number_field_tag :price, params[:price] %>
  <%= label_tag :Minute %>
  <%= number_field_tag :minute, params[:minute] %>
  <%= label_tag :Data %>
  <%= number_field_tag :data, params[:data] %>
  <%= label_tag :Text %>
  <%= number_field_tag :text, params[:text] %>
  <%= submit_tag "Search", :name => nil, class: 'search-submit' %>

<% end %>

<div id="search-display"></div>

<script>
  // When firebase database gets added to, it will update root with what was added
  var url = "https://sizzling-fire-5831.firebaseio.com";
  var firebaseRef = new Firebase(url);
  firebaseRef.on('child_added', function(snapshot) {
  	var search = snapshot.val();
    displayChatMessage(search.Price);
  	});
  function displayChatMessage(price) {
        $('<div/>').text(price).prepend($('<em/>').text("Price")).appendTo($('#search-display'));
        $('#search-display')[0].scrollTop = $('#search-display')[0].scrollHeight;
      };
</script>

